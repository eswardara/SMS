<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fleet Management</title>
  <link rel="shortcut icon" href="assets/images/favicon.png" />
  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Leaflet (Map) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <!-- Inter font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{color-scheme:dark;}
    html, body { height: 100%; }
    body { font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial; }
    /* Glass */
    .glass { background: rgba(255,255,255,0.06); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.08); }
    .btn-chip { @apply px-3 py-2 rounded-xl text-[12px] font-semibold inline-flex items-center gap-2 border border-white/10; background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02)); }
    .btn-chip--orange{ @apply text-orange-300; }
    .btn-chip--red{ @apply text-red-300; }
    .btn-chip--slate{ @apply text-slate-100; }
    .btn-chip.active { box-shadow: inset 0 0 0 1px rgba(255,255,255,0.25); }
    /* Map container must have height */
    #map { height: calc(100vh - 160px); }
    .leaflet-control-zoom{ display:none; } /* we'll use our own zoom UI to mimic the screenshot */
    /* Custom checkbox look for legend */
    .legend input[type="checkbox"]{ accent-color: #f97316; }
  </style>
</head>
<body class="bg-[#0f141b] text-white">
  <!-- Header -->
  <header class="w-full sticky top-0 z-40 bg-[#0a0f14]/95 border-b border-white/10">
    <div class="max-w-[1600px] mx-auto px-3 sm:px-6">
      <div class="flex items-center gap-3 py-3">
        <!-- Left cluster -->
        <button id="sidebarToggle" class="p-2 rounded-lg hover:bg-white/5" aria-label="Open menu">
          <!-- hamburger -->
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="opacity-80"><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
        </button>
        <img src="https://dummyimage.com/120x34/ff4d2e/ffffff&text=SCS+TECH" alt="Logo" class="h-8 hidden sm:block rounded" />
        <span class="text-sm sm:text-base opacity-80">Maps</span>
        <svg class="mx-1 opacity-40" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
        <h1 class="text-lg sm:text-2xl font-extrabold tracking-wide">FLEET MANAGEMENT</h1>

        <!-- Search -->
        <div class="flex-1 flex justify-center">
          <div class="relative w-full max-w-[720px]">
            <input type="text" placeholder="Search for ........" class="w-full glass rounded-2xl pl-10 pr-12 py-3 text-sm placeholder-white/40 outline-none" />
            <svg class="absolute left-3 top-1/2 -translate-y-1/2 opacity-60" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
            <button class="absolute right-2 top-1/2 -translate-y-1/2 p-2 rounded-xl hover:bg-white/10" aria-label="voice">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 1v11"></path><rect x="9" y="4" width="6" height="11" rx="3"></rect><path d="M5 10v2a7 7 0 0 0 14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line></svg>
            </button>
          </div>
        </div>

        <!-- Profile -->
        <button class="ml-auto p-2 rounded-full bg-white/10">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21a8 8 0 1 0-16 0"></path><circle cx="12" cy="7" r="4"></circle></svg>
        </button>
      </div>

      <!-- Chips Row -->
      <div class="flex flex-wrap gap-2 pb-3">
        <button class="btn-chip btn-chip--orange active"> 
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="3 11 12 2 21 11 12 20 3 11"></polygon></svg>
          GIS Map
        </button>
        <button class="btn-chip btn-chip--slate">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 3h-8v4h8z"></path></svg>
          Fleet Management
        </button>
        <button class="btn-chip btn-chip--slate">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 3v18h18"></path><path d="M19 9l-5 5-4-4-3 3"></path></svg>
          Sweeper History
        </button>
        <button class="btn-chip btn-chip--slate">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 3h18v6H3z"></path><path d="M16 13H8v8h8z"></path></svg>
          Mokadam Tracking
        </button>
        <button class="btn-chip btn-chip--red">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21H5a2 2 0 0 1-2-2V7l4-4h12a2 2 0 0 1 2 2z"></path></svg>
          Drainage Worker History
        </button>
        <button class="btn-chip btn-chip--slate">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 6h-6a2 2 0 0 0-2 2v10"></path><circle cx="7" cy="12" r="3"></circle></svg>
          CW GIS
        </button>
        <button class="btn-chip btn-chip--slate">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line></svg>
          CW Pocket
        </button>
        <button class="btn-chip btn-chip--orange">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22V2"></path><path d="M5 12h14"></path></svg>
          CT PT GIS
        </button>
      </div>

      <!-- Filters Row -->
      <div class="flex flex-wrap items-center gap-3 pb-3">
        <div class="glass rounded-xl px-3 py-2">
          <select class="bg-transparent outline-none text-sm">
            <option class="bg-slate-900">Select Zone</option>
            <option class="bg-slate-900">North</option>
            <option class="bg-slate-900">South</option>
            <option class="bg-slate-900">East</option>
            <option class="bg-slate-900">West</option>
          </select>
        </div>
        <div class="glass rounded-xl px-3 py-2">
          <select class="bg-transparent outline-none text-sm">
            <option class="bg-slate-900">Select Ward</option>
            <option class="bg-slate-900">Ward 1</option>
            <option class="bg-slate-900">Ward 2</option>
          </select>
        </div>
        <div class="glass rounded-xl px-3 py-2 flex items-center gap-2">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line></svg>
          <input type="date" class="bg-transparent outline-none text-sm" />
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="opacity-60"><polyline points="6 9 12 15 18 9"></polyline></svg>
          <span class="text-sm opacity-70">Start Date</span>
        </div>
        <div class="glass rounded-xl px-3 py-2 flex items-center gap-2">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line></svg>
          <input type="date" class="bg-transparent outline-none text-sm" />
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="opacity-60"><polyline points="6 9 12 15 18 9"></polyline></svg>
          <span class="text-sm opacity-70">End Date</span>
        </div>
        <div class="flex items-center gap-5 ml-auto pr-1">
          <label class="inline-flex items-center gap-2 text-sm"><input name="mode" type="radio" class="accent-orange-500" checked /> <span>LIVE TRACKING</span></label>
          <label class="inline-flex items-center gap-2 text-sm"><input name="mode" type="radio" class="accent-orange-500" /> <span>HISTORY</span></label>
        </div>
      </div>
    </div>
  </header>

  <!-- Content -->
  <main class="w-full">
    <div id="map" class="w-full"></div>

    <!-- Bottom bar -->
    <div class="w-full bg-black/80 border-t border-white/10">
      <div class="max-w-[1600px] mx-auto px-3 sm:px-6 py-3 flex items-center justify-between text-xs sm:text-sm">
        <div class="legend glass rounded-lg p-3 inline-flex flex-col gap-1">
          <div class="text-[11px] uppercase tracking-wider opacity-70 mb-1">Base Map</div>
          <label class="inline-flex items-center gap-2"><input type="checkbox" checked> GPS_Location</label>
          <label class="inline-flex items-center gap-2"><input type="checkbox"> Feeder</label>
          <label class="inline-flex items-center gap-2"><input type="checkbox"> Route</label>
          <label class="inline-flex items-center gap-2"><input type="checkbox"> Geofence</label>
        </div>
        <div class="flex items-center gap-2">
          <!-- Custom zoom like screenshot -->
          <div class="flex items-center gap-1">
            <button id="zoomIn" class="glass px-3 py-2 rounded-xl text-lg">+</button>
            <button id="zoomOut" class="glass px-3 py-2 rounded-xl text-lg">−</button>
          </div>
          <button id="myLocation" class="glass p-2 rounded-xl" title="My Location">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83l-1.17 1.17a2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0L.12 18.62a2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H-1a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83L2.18.12a2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H7a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0l1.17 1.17a2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V7a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
          </button>
        </div>
        <div class="text-center opacity-80">
          <a href="#" class="hover:underline">Copyright 2025</a>
        </div>
        <div class="opacity-80">Powered by SCS Tech</div>
      </div>
    </div>
  </main>

  <!-- Sidebar (optional) -->
  <aside id="sidebar" class="fixed left-0 top-0 h-full w-64 -translate-x-full transition-transform duration-300 z-50 bg-[#0b1016] border-r border-white/10">
    <div class="p-4 flex items-center justify-between border-b border-white/10">
      <div class="font-bold">Menu</div>
      <button id="sidebarClose" class="p-2 rounded hover:bg-white/10">✕</button>
    </div>
    <nav class="p-4 space-y-2 text-sm">
      <a class="block px-3 py-2 rounded-lg hover:bg-white/5" href="#">Dashboard</a>
      <a class="block px-3 py-2 rounded-lg hover:bg-white/5" href="#">Vehicles</a>
      <a class="block px-3 py-2 rounded-lg hover:bg-white/5" href="#">Drivers</a>
      <a class="block px-3 py-2 rounded-lg hover:bg-white/5" href="#">Reports</a>
      <a class="block px-3 py-2 rounded-lg hover:bg-white/5" href="#">Settings</a>
    </nav>
  </aside>

  <!-- Scripts -->
  <script>
    // Sidebar toggle
    const sidebar = document.getElementById('sidebar');
    document.getElementById('sidebarToggle').addEventListener('click', ()=> sidebar.classList.toggle('-translate-x-full'))
    document.getElementById('sidebarClose').addEventListener('click', ()=> sidebar.classList.add('-translate-x-full'))

    // Leaflet map init — centered on Pune with a dark basemap to match screenshot
    const map = L.map('map', { zoomControl: false }).setView([18.5204, 73.8567], 10);

    // Dark tiles (CartoDB Dark Matter)
    L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
      attribution: '&copy; OpenStreetMap &copy; CARTO',
      subdomains: 'abcd',
      maxZoom: 20
    }).addTo(map);

    // Demo markers to simulate GPS locations
    const demoPoints = [
      { name: 'Pimpri-Chinchwad', coords: [18.6298, 73.7997] },
      { name: 'Kothrud Depot', coords: [18.5074, 73.8077] },
      { name: 'Hadapsar Yard', coords: [18.4969, 73.9449] }
    ];

    const gpsLayer = L.layerGroup();
    demoPoints.forEach(p => L.marker(p.coords).bindPopup(p.name).addTo(gpsLayer));
    gpsLayer.addTo(map);

    // Legend checkboxes wiring (show/hide demo layers)
    const legend = document.querySelector('.legend');
    const boxes = legend.querySelectorAll('input[type="checkbox"]');
    boxes[0].addEventListener('change', (e)=>{ e.target.checked ? map.addLayer(gpsLayer) : map.removeLayer(gpsLayer); })
    // Feeder / Route / Geofence are placeholders for your real layers

    // Custom zoom buttons
    document.getElementById('zoomIn').addEventListener('click', ()=> map.zoomIn());
    document.getElementById('zoomOut').addEventListener('click', ()=> map.zoomOut());

    // My location (browser geolocation)
    document.getElementById('myLocation').addEventListener('click', ()=>{
      if(!navigator.geolocation){return alert('Geolocation not supported');}
      navigator.geolocation.getCurrentPosition(pos=>{
        const {latitude, longitude} = pos.coords;
        map.setView([latitude, longitude], 14);
        L.circleMarker([latitude, longitude], { radius: 8 }).addTo(map).bindPopup('You are here').openPopup();
      }, ()=> alert('Unable to fetch location'));
    });

    // Maintain map height on resize (safe on some mobile browsers)
    const setMapHeight = ()=> {
      const headerH = document.querySelector('header').offsetHeight;
      const bottomH = document.querySelector('main > div.w-full.bg-black\\/80').offsetHeight;
      document.getElementById('map').style.height = `calc(100vh - ${headerH + bottomH}px)`;
    };
    window.addEventListener('load', setMapHeight);
    window.addEventListener('resize', setMapHeight);
  </script>
</body>
</html>
